<!DOCTYPE html>
<html lang="fr">
    <head>
        <title>Détails</title>
        <link href="{{ asset('styles/app.css') }}" rel="stylesheet"/>
    </head>
    <body>
        <div class="container">
            <div class="container-card">
                <img src="{{ trackDetails.pictureLink }}">
                <h1> {{ trackDetails.name }} </h1>
                {% for artist in trackDetails.artists %}
                    <h2>{{ artist.name }}</h2>
                {% endfor %}
                <p> 🔥 Popularité : {{ trackDetails.popularity }}/100 </p>
                <p> 🕓 Durée : {{ trackDetails.durationMs / 1000 }} secondes </p>
                <p> 🎵 N° de piste : {{ trackDetails.trackNumber }} </p>
                <p> 💿 N° du disque : {{ trackDetails.discNumber }} </p>
                <p> 🔞 Restricition d'âge : {{ trackDetails.explicit ? "Oui" : "Non" }} </p>

                <audio controls>
                    <source src="{{ trackDetails.previewUrl }}">
                </audio>

                <a href="{{ trackDetails.spotifyUrl }}">Afficher sur Spotify ></a>

                <a href="{{ path((trackDetails.isFavorite ? "app_favorite_remove_track" : "app_favorite_add_track"), {"id": trackDetails.id}) }}">
                    {{ trackDetails.isFavorite ? "🗑 Supprimer des" : "⭐️ Ajouter aux" }} favoris !
                </a>
            </div>

            <div class="container-card">
                <h1>Recommendations</h1>
                <div class="container">
                    {% for item in recomandedTracks %}
                        <a class="item" href="{{ path("app_track_details", {"id": item.id}) }}">
                            <div class="overlay">
                                <div>
                                    <h2>{{ item.name }}</h2>
                                    {% for artist in item.artists %}
                                        <h3>{{ artist.name }}</h3>
                                    {% endfor %}
                                </div>
                            </div>
                            <img class="background" src="{{ item.pictureLink }}" alt="image titre {{ item.name }}">
                        </a>
                    {% endfor %}
                </div>
            </div>
        </div>
    </body>
</html>