<!DOCTYPE html>
<html lang="fr">
    <head>
        <title>Détails</title>
        <link href="{{ asset('styles/app.css') }}" rel="stylesheet"/>
    </head>
    <body>
        <div class="container">
            <div class="container-card">
                <img src="{{ track.pictureLink }}">
                <h1> {{ track.name }} </h1>
                {% for artist in track.artists %}
                    <h2>{{ artist.name }}</h2>
                {% endfor %}
                <p> 🔥 Popularité : {{ track.popularity }}/100 </p>
                <p> 🕓 Durée : {{ track.durationMs / 1000 }} secondes </p>
                <p> 🎵 N° de piste : {{ track.trackNumber }} </p>
                <p> 💿 N° du disque : {{ track.discNumber }} </p>
                <p> 🔞 Restricition d'âge : {{ track.explicit ? "Oui" : "Non" }} </p>

                <audio controls>
                    <source src="{{ track.previewUrl }}">
                </audio>

                <a href="{{ track.spotifyUrl }}">Afficher sur Spotify ></a>

                <a href="{{ path((track.isFavorite ? "app_favorite_remove_track" : "app_favorite_add_track"), {"id": track.id}) }}">
                    {{ track.isFavorite ? "🗑 Supprimer des" : "⭐️ Ajouter aux" }} favoris !
                </a>
            </div>

            <div class="container-card">
                <h1>Recommendations</h1>
                <div class="container">
                    {% for recommendedTrack in recommendedTracks %}
                        <a class="item" href="{{ path("app_track_details", {"id": recommendedTrack.id}) }}">
                            <div class="overlay">
                                <div>
                                    <h2>{{ recommendedTrack.name }}</h2>
                                    {% for artist in recommendedTrack.artists %}
                                        <h3>{{ artist.name }}</h3>
                                    {% endfor %}
                                </div>
                            </div>
                            <img class="background" src="{{ recommendedTrack.pictureLink }}" alt="image titre {{ recommendedTrack.name }}">
                        </a>
                    {% endfor %}
                </div>
            </div>
        </div>
    </body>
</html>